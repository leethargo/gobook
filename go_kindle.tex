%\documentclass[a4paper,twoside,openleft]{blocksbook}
\documentclass[twoside,openleft,landscape]{blocksbook}
%%\setstocksize{11.5cm}{9cm}
\setstocksize{9cm}{12cm}
\settrimmedsize{\stockheight}{\stockwidth}{*}
\sloppy

\usepackage[cm-default]{fontspec}% provides font selecting commands
\usepackage{xunicode}% provides unicode character macros
\usepackage{xltxtra} % provides some fixes/extras
\usepackage[answerdelayed,lastexercise]{exercise}
\usepackage[labelsep=period,labelfont=it,textfont=it]{caption}
\usepackage{alltt}
\usepackage{url}
\usepackage{listings} 
\usepackage{color}
\usepackage{graphicx}
\usepackage{relsize}
\usepackage[boldfont,slantfont]{xeCJK}
\usepackage{scalefnt}
\usepackage{wrapfig}
\usepackage{everypage}
% Tables from Gnumeric.
\usepackage{array} 
\usepackage{longtable}
\usepackage{calc}
\usepackage{multirow}
\usepackage{hhline} 
\usepackage{ifthen} 
\usepackage{upquote}

\usepackage{tikz}
\usetikzlibrary{arrows,decorations.pathreplacing}
\usepackage{float}
%\usepackage{natbib}
%% Local tex stuff.
\usepackage{coderemarks}
%% Must go last.
\usepackage{hyperref}
\input{go-setup.tex}
\input{go-cc-license.tex}

\setlrmarginsandblock{5mm}{5mm}{*}
\setulmarginsandblock{5mm}{5mm}{*}
\setheadfoot{\baselineskip}{1mm}
\setlength\headsep{1mm}
\checkandfixthelayout

\begin{document}
\thispagestyle{empty}
\newcommand{\version}{1.0}
%% Title page
\begin{center}
\hspace{0.4cm}{\scalefont{2.00}{\sffamily{\mbox{\vspace{0.4cm}Learning Go}}}}
\end{center}
\vspace*{0.5cm}
\begin{figure}[h!]
\begin{center}
    \includegraphics[scale=0.3]{fig/bumper-inverse.png}
\end{center}
\end{figure}
\vspace*{0.02\stockheight}
\begin{minipage}{0.4\textwidth}
\begin{flushleft} \large
\hspace*{1.0cm}Authors:\\
\hspace*{1.0cm}\emph{Miek Gieben}\\
\vfill
\end{flushleft}
\end{minipage}
\hspace{2mm}
\begin{minipage}{0.4\textwidth}
\begin{flushright} \large
Thanks to:\\
\emph{Go Authors}, \emph{Google}\\
\vfill
\end{flushright}
\end{minipage}
\vspace*{0.1cm}
\begin{center}
With the help and contributions from:

({\small in alphabetical order})

\input{go-contributors.tex}                                                                             
\end{center}
\vfill
\begin{center}
    \hspace*{1cm}\CcGroupByNcSa{0.83}{0.95ex}\\[2.5ex]
    \hspace*{1cm}{\tiny\CcNote{\CcLongnameByNcSa}}
\end{center}
\begin{center}
\hspace*{1cm}\emph{Miek Gieben -- \copyright 2010 - 2012}
\end{center}
\vspace{-3em}
%% End title page %%

\newpage

\thispagestyle{empty}
\begin{figure}[H]
\begin{center}
\emph{
This work is licensed under the Attribution-NonCommercial-ShareAlike 3.0 Unported License. To
view a copy of this license, visit \url{http://creativecommons.org/licenses/by-nc-sa/3.0/} 
or send a letter
to Creative Commons, 171 Second Street, Suite 300, San Francisco, California, 94105, USA.}
\vspace{2em}

\emph{All example code used in this book is hereby put in the public domain.}  
\end{center}
\end{figure}

\begin{center}                                                                                          
``Learning Go'' has been translated into:                                                               
\begin{itemize}                                                                                         
\item Chinese, by Xing Xing, 这里是中文译本: {\url{http://www.mikespook.com/learning-go/}}              
\end{itemize}                                                                                           
\end{center} 

\begin{center}
\vfill
\emph{Learning as we Go}
(\emph{\version})

\tiny{Supports the Go 1 release}                                                                        
\vspace{.2\stockheight}
\end{center}

\clearpage

\pagenumbering{roman}
\tableofcontents*
\listoffigures*
%%\listoftables* %% there are so few
\listofcode* 
\listofex* 
\clearpage

\chapter*{Preface}
\label{chap:preface}
\input{go-preface.tex}

\chapter{Introduction}
\pagenumbering{arabic}
\label{chap:intro}
\input{go-intro.tex}

\chapter{Basics}
\label{chap:basics}
\input{go-basics.tex}

\chapter{Functions}
\label{chap:functions}
\input{go-functions.tex}

\chapter{Packages}
\label{chap:packages}
\input{go-packages.tex}

\chapter{Beyond the basics}
\label{chap:beyond}
\input{go-beyond.tex}

\chapter{Interfaces}
\label{chap:interfaces}
\input{go-interfaces.tex}

\chapter{Concurrency}
\label{chap:channels}
\input{go-channels.tex}

\chapter{Communication}
\label{chap:communication}
\input{go-communication.tex}

%%\chapter{Miscellaneous}
%%\label{chap:miscellaneous}
%%\input{go-misc.tex}

\appendix

\chapter{Colophon}
\input{go-colophon}

\begin{twocolumn}
\chapter{Index}
\printindex
\end{twocolumn}
\begin{onecolumn}

\bibliographystyle{plain}
\bibliography{go}
\newpage
\thispagestyle{empty}
\begin{center}
\emph{This page is intentionally left blank.}
\end{center}
\end{onecolumn}
\end{document}
